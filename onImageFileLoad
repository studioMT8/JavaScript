<script>
  /**
   * input type="file" で指定された画像ファイルの読み込みが終わった時にやること
   * @param {string} inputFileID input type="file"のID
   * @param {string} nextFunc ファイルの属性を取り出した後に実行する関数
   */
  function onImageFileLoad(inputFileID ,nextFunc) {
    const ID = document.getElementById(inputFileID);
    if(ID.files[0]) {
      image = new Image();
      image.src = URL.createObjectURL(ID.files[0]);

      image.onload = function() {
        result = {
          width: image.naturalWidth ,
          height: image.naturalHeight
        };

        if(nextFunc !== undefined) {
          nextFunc(result.width ,result.height);
        }
      }
    }
  }
</script>
